Improve text layout.  In particular, make sure we support RTL languages properly.
